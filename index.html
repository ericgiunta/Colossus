<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>"Risk Model Regression and Analysis with Complex Non-Linear Models" • Colossus</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="" risk model regression and analysis with complex non-linear models>
<meta name="description" content="Performs survival analysis using general non-linear models. Risk models can be the sum or product of terms. Each term is the product of exponential/linear functions of covariates. Additionally sub-terms can be defined as a sum of exponential, linear threshold, and step functions. Cox Proportional hazards &lt;https://en.wikipedia.org/wiki/Proportional_hazards_model&gt;, Poisson &lt;https://en.wikipedia.org/wiki/Poisson_regression&gt;, and Fine-Grey competing risks &lt;https://www.publichealth.columbia.edu/research/population-health-methods/competing-risk-analysis&gt; regression are supported. This work was sponsored by NASA Grant 80NSSC19M0161 through a subcontract from the National Council on Radiation Protection and Measurements (NCRP). The computing for this project was performed on the Beocat Research Cluster at Kansas State University, which is funded in part by NSF grants CNS-1006860, EPS-1006860, EPS-0919443, ACI-1440548, CHE-1726332, and NIH P20GM113109.">
<meta property="og:description" content="Performs survival analysis using general non-linear models. Risk models can be the sum or product of terms. Each term is the product of exponential/linear functions of covariates. Additionally sub-terms can be defined as a sum of exponential, linear threshold, and step functions. Cox Proportional hazards &lt;https://en.wikipedia.org/wiki/Proportional_hazards_model&gt;, Poisson &lt;https://en.wikipedia.org/wiki/Poisson_regression&gt;, and Fine-Grey competing risks &lt;https://www.publichealth.columbia.edu/research/population-health-methods/competing-risk-analysis&gt; regression are supported. This work was sponsored by NASA Grant 80NSSC19M0161 through a subcontract from the National Council on Radiation Protection and Measurements (NCRP). The computing for this project was performed on the Beocat Research Cluster at Kansas State University, which is funded in part by NSF grants CNS-1006860, EPS-1006860, EPS-0919443, ACI-1440548, CHE-1726332, and NIH P20GM113109.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">Colossus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/Alt_Distrib_Starts.html">Distributed Start Framework</a></li>
    <li><a class="dropdown-item" href="articles/Alt_Run_opt.html">Alternative Regression Options</a></li>
    <li><a class="dropdown-item" href="articles/dose_formula_inputs.html">Dose Response Formula Terms</a></li>
    <li><a class="dropdown-item" href="articles/Plotting_And_Analysis.html">Functions for plotting and analysis</a></li>
    <li><a class="dropdown-item" href="articles/starting-description.html">Colossus Description</a></li>
    <li><a class="dropdown-item" href="articles/Time_Dep_Cov.html">Time Dependent Covariate Use</a></li>
    <li><a class="dropdown-item" href="articles/Wald_and_Log_Bound.html">Confidence Interval Selection</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ericgiunta/Colossus/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="colossus">Colossus<a class="anchor" aria-label="anchor" href="#colossus"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of Colossus is to provide an open-source means of performing survival analysis on big data with complex risk formula. Colossus is designed to perform Cox Proportional Hazard regressions and Poisson regressions on datasets loaded as data.tables or data.frames. The risk models allowed are sums or products of linear, log-linear, or several other radiation dose response formula highlighted in the vignettes. Additional plotting capabilities are available.</p>
<p>By default a fully portable version of the code is compiled, which does not support OpenMP on every system. Please consult the GitHub for details on libraries required for your OS if you are interested in using OpenMP on linux. Note that Colossus requires OpenMP support to perform parallel calculations. During the configuration stage of installation, text starting with “CONFIG NOTE” will denote what OS/Compiler are detected and if OpenMP support is configured. Currently OpenMP support is not configured for linux compiling with clang and MacOS systems.</p>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows you how to solve a common problem:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">parallel</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ericgiunta.github.io/Colossus/" class="external-link">Colossus</a></span><span class="op">)</span></span>
<span><span class="co">## basic example code reproduced from the starting-description vignette</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span><span class="st">"UserID"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">112</span>, <span class="fl">114</span>, <span class="fl">213</span>, <span class="fl">214</span>, <span class="fl">115</span>, <span class="fl">116</span>, <span class="fl">117</span><span class="op">)</span>,</span>
<span>           <span class="st">"Starting_Age"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">18</span>,  <span class="fl">20</span>,  <span class="fl">18</span>,  <span class="fl">19</span>,  <span class="fl">21</span>,  <span class="fl">20</span>,  <span class="fl">18</span><span class="op">)</span>,</span>
<span>             <span class="st">"Ending_Age"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>,  <span class="fl">45</span>,  <span class="fl">57</span>,  <span class="fl">47</span>,  <span class="fl">36</span>,  <span class="fl">60</span>,  <span class="fl">55</span><span class="op">)</span>,</span>
<span>          <span class="st">"Cancer_Status"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,   <span class="fl">0</span>,   <span class="fl">1</span>,   <span class="fl">0</span>,   <span class="fl">1</span>,   <span class="fl">0</span>,   <span class="fl">0</span><span class="op">)</span>,</span>
<span>                      <span class="st">"a"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,   <span class="fl">1</span>,   <span class="fl">1</span>,   <span class="fl">0</span>,   <span class="fl">1</span>,   <span class="fl">0</span>,   <span class="fl">1</span><span class="op">)</span>,</span>
<span>                      <span class="st">"b"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,   <span class="fl">1.1</span>, <span class="fl">2.1</span>, <span class="fl">2</span>,   <span class="fl">0.1</span>, <span class="fl">1</span>,   <span class="fl">0.2</span><span class="op">)</span>,</span>
<span>                      <span class="st">"c"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,  <span class="fl">11</span>,  <span class="fl">10</span>,  <span class="fl">11</span>,  <span class="fl">12</span>,  <span class="fl">9</span>,   <span class="fl">11</span><span class="op">)</span>,</span>
<span>                      <span class="st">"d"</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,   <span class="fl">0</span>,   <span class="fl">0</span>,   <span class="fl">1</span>,   <span class="fl">1</span>,   <span class="fl">1</span>,   <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># For the interval case</span></span>
<span><span class="va">time1</span> <span class="op">&lt;-</span> <span class="st">"Starting_Age"</span></span>
<span><span class="va">time2</span> <span class="op">&lt;-</span> <span class="st">"Ending_Age"</span></span>
<span><span class="va">event</span> <span class="op">&lt;-</span> <span class="st">"Cancer_Status"</span></span>
<span></span>
<span><span class="va">names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span>,<span class="st">'d'</span><span class="op">)</span></span>
<span><span class="va">Term_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">tform</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"loglin"</span>,<span class="st">"lin"</span>,<span class="st">"lin"</span>,<span class="st">"plin"</span><span class="op">)</span></span>
<span><span class="va">modelform</span> <span class="op">&lt;-</span> <span class="st">"M"</span></span>
<span><span class="va">fir</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span></span>
<span><span class="va">a_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">keep_constant</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span></span>
<span><span class="va">der_iden</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span></span>
<span><span class="va">control</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">'lr'</span> <span class="op">=</span> <span class="fl">0.75</span>,<span class="st">'maxiter'</span> <span class="op">=</span> <span class="fl">100</span>,<span class="st">'halfmax'</span> <span class="op">=</span> <span class="fl">5</span>,<span class="st">'epsilon'</span> <span class="op">=</span> <span class="fl">1e-9</span>,</span>
<span>             <span class="st">'dbeta_max'</span> <span class="op">=</span> <span class="fl">0.5</span>,<span class="st">'deriv_epsilon'</span> <span class="op">=</span> <span class="fl">1e-9</span>, <span class="st">'abs_max'</span><span class="op">=</span><span class="fl">1.0</span>,</span>
<span>             <span class="st">'change_all'</span><span class="op">=</span><span class="cn">TRUE</span>,<span class="st">'dose_abs_max'</span><span class="op">=</span><span class="fl">100.0</span>,<span class="st">'verbose'</span><span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>             <span class="st">'ties'</span><span class="op">=</span><span class="st">'breslow'</span>,<span class="st">'double_step'</span><span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">e</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/RunCoxRegression.html">RunCoxRegression</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">time1</span>, <span class="va">time2</span>, <span class="va">event</span>, <span class="va">names</span>, <span class="va">Term_n</span>, <span class="va">tform</span>, <span class="va">keep_constant</span>, <span class="va">a_n</span>, <span class="va">modelform</span>, <span class="va">fir</span>, <span class="va">der_iden</span>, <span class="va">control</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">e</span><span class="op">)</span></span>
<span><span class="co">#&gt; $LogLik</span></span>
<span><span class="co">#&gt; [1] -0.6753644</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $First_Der</span></span>
<span><span class="co">#&gt; [1]  0.000000e+00 -7.187040e-05  7.361232e-05  1.919948e-04</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Second_Der</span></span>
<span><span class="co">#&gt;              [,1]         [,2]          [,3]          [,4]</span></span>
<span><span class="co">#&gt; [1,] 0.000000e+00 0.000000e+00  0.000000e+00  4.965508e-19</span></span>
<span><span class="co">#&gt; [2,] 0.000000e+00 1.742209e-08  7.238366e-07  2.311365e-07</span></span>
<span><span class="co">#&gt; [3,] 0.000000e+00 7.238366e-07 -1.501037e-06 -2.356033e-07</span></span>
<span><span class="co">#&gt; [4,] 4.965508e-19 2.311365e-07 -2.356033e-07 -3.687577e-06</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $beta_0</span></span>
<span><span class="co">#&gt; [1]  41.26157  98.72266  96.82311 101.10000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Standard_Deviation</span></span>
<span><span class="co">#&gt; [1]      NaN      NaN 177.9643   0.0000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Alternate_Standard_Deviation</span></span>
<span><span class="co">#&gt; [1]         NaN 3781272.348 3698136.197    2326.871</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $AIC</span></span>
<span><span class="co">#&gt; [1] 9.350729</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $BIC</span></span>
<span><span class="co">#&gt; [1] 9.134369</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Parameter_Lists</span></span>
<span><span class="co">#&gt; $Parameter_Lists$Term_n</span></span>
<span><span class="co">#&gt; [1] 0 1 1 2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Parameter_Lists$tforms</span></span>
<span><span class="co">#&gt; [1] "loglin" "lin"    "lin"    "plin"  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Parameter_Lists$names</span></span>
<span><span class="co">#&gt; [1] "a" "b" "c" "d"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Control_List</span></span>
<span><span class="co">#&gt; $Control_List$Iteration</span></span>
<span><span class="co">#&gt; [1] 100</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Control_List$`Maximum Step`</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Control_List$`Derivative Limiting`</span></span>
<span><span class="co">#&gt; [1] 0.0001919948</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Converged</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=Colossus" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ericgiunta/Colossus/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ericgiunta/Colossus/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 3)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing Colossus</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Eric Giunta <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-1577-766X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>NASA <br><small class="roles"> Funder </small>  </li>
<li>NCRP <br><small class="roles"> Funder </small>  </li>
<li>NRC <br><small class="roles"> Funder </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ericgiunta/Colossus" class="external-link"><img src="https://img.shields.io/github/languages/code-size/ericgiunta/Colossus.svg"></a></li>
<li><a href="https://github.com/ericgiunta/Colossus/commits/master" class="external-link"><img src="https://img.shields.io/github/last-commit/ericgiunta/Colossus.svg"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg"></a></li>
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active - The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="https://codecov.io/gh/ericgiunta/Colossus" class="external-link"><img src="https://codecov.io/gh/ericgiunta/Colossus/graph/badge.svg?token=NMH5R502W8" alt="codecov"></a></li>
<li><a href="https://github.com/ericgiunta/Colossus/actions/workflows/pkgdown.yaml" class="external-link"><img src="https://github.com/ericgiunta/Colossus/actions/workflows/pkgdown.yaml/badge.svg" alt="pkgdown"></a></li>
<li><a href="https://github.com/ericgiunta/Colossus/actions/workflows/OS_TEST.yml" class="external-link"><img src="https://github.com/ericgiunta/Colossus/actions/workflows/OS_TEST.yml/badge.svg?branch=main" alt="OS_Checks"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Eric Giunta, NASA, NCRP, NRC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
