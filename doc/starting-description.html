<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Colossus_Description</title>


<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Colossus_Description</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(Colossus)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">library</span>(data.table)</a></code></pre></div>
<div id="colossus-description" class="section level2">
<h2>Colossus Description</h2>
</div>
<div id="model-structure" class="section level2">
<h2>Model Structure</h2>
<p>At its full potential, Colossus is able to analyze a vast number of possible risk/rate models. Specifically Colossus is designed to allow for a combination of linear and non-linear models to estimate cox proportional hazard ratios, Poisson model rates, and Fine-Grey Competing risks ratios. The simplest of which is a exponential model. The simplest model generally used for hazard ratios in survival analysis is the exponential of a linear function of covariates.</p>
<p class="text-center" style="background-color: aliceblue">
<span class="math display">\[
\begin{aligned}
    R(\vec{\beta},\vec{x})=\exp(\vec{\beta} \cdot \vec{x})
\end{aligned}
\]</span>
</p>
<p>In Colossus, this general model is extended by abstracting to the sum and product of terms and subterms. In this vignette, the value calculated to quantify the risk of an event will be denoted as the risk, R, however the exact meaning differs. In Cox proportional hazard modeling, the risk calculated is a hazard ratio. In poisson modeling the risk calculated is an estimated number of events per person-year. The risk (<span class="math inline">\(R\)</span>) has a set formula dependent on terms (<span class="math inline">\(T\)</span>). Each term has a formula dependent on the product of subterms (<span class="math inline">\(S\)</span>). Each subterm is a function of a single covariate (<span class="math inline">\(x\)</span>) and several parameters (<span class="math inline">\(\alpha,\beta\)</span>).</p>
<p>There are currently five types of risk models available. The risk can be expressed as an additive model (<span class="math inline">\(R_A\)</span>), product additive model (<span class="math inline">\(R_{PA}\)</span>), Product additive excess model (<span class="math inline">\(R_{PAE}\)</span>), multiplicative excess model (<span class="math inline">\(R_M\)</span>), or the geometric mixture model with relative risks or excess risks (<span class="math inline">\(R_{GMIX}\)</span>).</p>
<p class="text-center" style="background-color: aliceblue">
<span class="math display">\[
\begin{aligned}
    R_{A}= \sum_{i=0}^n T_i\\
    R_{PA}= T_0 \times \sum_{i=1}^n T_i\\
    R_{PAE}= T_0 \times (1 + \sum_{i=1}^n T_i)\\
    R_{M}= T_0 \times \prod_{i=1}^n( 1 + T_i)\\
    R_{GMIX} = T_0 \times \left(\prod_{i=1}^n(T^{*}_i) \right) ^ \theta \times \left( 1 + \sum_{i=1}^n (T^{*}_i - 1) \right)^{1-\theta}\\
    T^{*}_i = \begin{cases} T_i &amp;\text{Relative Risk} \\ T_i+1 &amp;\text{Excess Risk} \end{cases}\\
\end{aligned}
\]</span>
</p>
<p>Each term is composed of a combination of 4 types of subterms. Every covariate is part of a log-linear subterm, a linear subterm, a product-linear subterm, or a general non-linear term. The log-linear subterm (<span class="math inline">\(S_{ll}\)</span>) is the exponential of a linear combination of covariates. The linear subterm (<span class="math inline">\(S_l\)</span>) is a linear combination of covariates. The product-linear subterm (<span class="math inline">\(S_{PL}\)</span>) is one plus a linear combination of covariates. The general non-linear term (<span class="math inline">\(S_{NL}\)</span>) is the sum of exponential terms, quadratic terms, linear-threshold terms (<span class="math inline">\(F_{LT}\)</span>), step function terms (<span class="math inline">\(F_{STP}\)</span>), linear-quadratic terms (<span class="math inline">\(F_{LQ}\)</span>), and linear-exponential terms (<span class="math inline">\(F_{LEXP}\)</span>). Each term is the product of the non-empty subterms.</p>
<p class="text-center" style="background-color: aliceblue">
<span class="math display">\[
\begin{aligned}
    S_{LL}=\prod_{i} (\exp{(x_i \cdot \beta_i)})\\
    S_{L}=\sum_i (x_i \cdot \beta_i)\\
    S_{PL}=1+ \sum (x_i \cdot \beta_i)\\
    S_{NL}=\sum_i (\alpha_i \times \exp(x_i \cdot \beta_i)) + \sum_i (\beta_i \cdot (x_i)^2) + \sum_i F_{LT} + \sum_i F_{STP} + \sum_i F_{LQ} + \sum_i F_{LEXP}\\
    F_{LT} = \begin{cases} \alpha_i \cdot (x-\beta_i) &amp; (x&gt;\beta_i) \\ 0 &amp;\text{else} \end{cases}\\
    F_{STP} = \begin{cases} \alpha_i &amp; (x&gt;\beta_i) \\ 0 &amp;\text{else} \end{cases}\\
    F_{LQ} = \begin{cases} \beta_i \cdot x &amp; (x&gt;\alpha_i) \\ \lambda_i \cdot x^2 + \nu_i &amp;\text{else} \end{cases}\\
    F_{LEXP} = \begin{cases} \beta_i \cdot x &amp; (x&gt;\alpha_i) \\ \lambda_i - \exp{(\nu_i + \mu \cdot x)} &amp;\text{else} \end{cases}\\
    T_j=S_{LL,j} \times S_{L,j} \times S_{PL,j} \times S_{NL,j}
\end{aligned}
\]</span>
</p>
<p>In short, every element of the risk model has a subterm type, term number, covariate, and parameter value.</p>
</div>
<div id="using-the-standard-model" class="section level2">
<h2>Using The Standard Model</h2>
<p>In Colossus every equation is defined in a very similar fashion. On the user side of the code, elements of the risk equation can be viewed as rows of a table. The columns store covariate names, term numbers, subterms types, and a starting point. For more complex regression most parameters can be also be set to remain constant over the regression. Doing so forces the parameter value to remain constant but not remove the element from the risk calculations. Constant elements are used for risk calculation, but are not used for calculating steps or standard deviations. For a multiplicative excess risk model the following table and equation are equivalent.</p>
<table>
<thead>
<tr class="header">
<th align="center">Term number</th>
<th align="center">subterm type</th>
<th align="center">covariate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">0</td>
<td align="center">LogLinear</td>
<td align="center">a</td>
</tr>
<tr class="even">
<td align="center">1</td>
<td align="center">Linear</td>
<td align="center">b</td>
</tr>
<tr class="odd">
<td align="center">1</td>
<td align="center">Linear</td>
<td align="center">c</td>
</tr>
</tbody>
</table>
<p class="text-center" style="background-color: aliceblue">
<span class="math display">\[
\begin{aligned}
    R = \exp{(\beta_{a} \cdot x_{a})} \times (1+\beta_{b} \cdot x_{b} + \beta_{c} \cdot x_{c})
\end{aligned}
\]</span>
</p>
<p>If the user wanted to update the model to include a new term with a product-linear subterm, then the table would only need to be updated with a new row.</p>
<table>
<thead>
<tr class="header">
<th align="center">Term number</th>
<th align="center">subterm type</th>
<th align="center">covariate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">0</td>
<td align="center">LogLinear</td>
<td align="center">a</td>
</tr>
<tr class="even">
<td align="center">1</td>
<td align="center">Linear</td>
<td align="center">b</td>
</tr>
<tr class="odd">
<td align="center">1</td>
<td align="center">Linear</td>
<td align="center">c</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">Product-Linear</td>
<td align="center">d</td>
</tr>
</tbody>
</table>
<p class="text-center" style="background-color: aliceblue">
<span class="math display">\[
\begin{aligned}
    R = \exp{(\beta_{a} \cdot x_{a})} \times (1 + (\beta_{b} \cdot x_{b} + \beta_{c} \cdot x_{c}) \times (1 + \beta_{d} \cdot x_{d}))
\end{aligned}
\]</span>
</p>
<p>Note that the multiplicative model is taking the product of terms, each of which is the product of subterms. The same equation may be written with subterms distributed over different terms in the multiplicative model without changing the final value. The only exception is subterms moved from or into the “first” term in the multiplicative excess model. The same equation could be expressed in ways with different computational complexity.</p>
<p>The specific model options are passed to the code as separate variables. The model identifier (A, M, PA, PAE, GMIX) is passed as a string. Every model except the additive model has a distinction between the first and remaining terms. Colossus defaults to term 0 being the unique term, however it can be set to any used term number without producing an error.</p>
<p>The final table is also equivalent to the following code</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;a&#39;</span>,<span class="st">&#39;b&#39;</span>,<span class="st">&#39;c&#39;</span>,<span class="st">&#39;d&#39;</span>)</a>
<a class="sourceLine" id="cb2-2" title="2">Term_n &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb2-3" title="3">tform &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;loglin&quot;</span>,<span class="st">&quot;lin&quot;</span>,<span class="st">&quot;lin&quot;</span>,<span class="st">&quot;plin&quot;</span>)</a>
<a class="sourceLine" id="cb2-4" title="4">modelform &lt;-<span class="st"> &quot;M&quot;</span></a>
<a class="sourceLine" id="cb2-5" title="5">fir &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb2-6" title="6"></a>
<a class="sourceLine" id="cb2-7" title="7">a_n &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span>)</a></code></pre></div>
<p><em>names</em> denotes the column names used, <em>Term_n</em> denotes the term numbers, <em>tform</em> denotes the subterm formula, <em>modelform</em> denotes the term formula, <em>fir</em> denotes the “first” term indexed from zero which defaults to 0, and <em>a_n</em> denotes the initial guesses for the parameter values. All of which are assumed to be in the same order. A function is called prior to regression that reorders the inputs in order of terms, subterm types, etc.</p>
</div>
<div id="survival-time-and-event-data" class="section level2">
<h2>Survival Time and Event Data</h2>
<p>Colossus performs survival analysis via either a Cox Proportional Hazards regression or a Poisson regression. In both cases the user specifies which columns contain time duration and events of interest. For the Poisson regression these would be which column contains the person-years and number of events for each row of data. For the Cox Proportional Hazards regression the user identifies which columns provide starting and ending times, and what column gives the event status. The event status is assumed to be a binary covariate which is 1 for intervals containing an event. Colossus supports left censored data, right censored data, and interval censored data. The data is interval censored by default, so left and right censoring are handled by defining interval endpoints outside the minimum or maximum event times. For Poisson regression the user only provides columns for the person-years per row and number of events. Poisson regression supports any non-negative number of events.</p>
<p>On the user side, the names of columns containing the time and events need to be given. Lets assume we have a dataframe organized as follows:</p>
<table>
<thead>
<tr class="header">
<th align="center">UserID</th>
<th align="center">Starting_Age</th>
<th align="center">Ending_Age</th>
<th align="center">Cancer_Status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">112</td>
<td align="center">18</td>
<td align="center">30</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">114</td>
<td align="center">20</td>
<td align="center">45</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">213</td>
<td align="center">18</td>
<td align="center">57</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">…</td>
<td align="center">…</td>
<td align="center">…</td>
<td align="center">…</td>
</tr>
</tbody>
</table>
<p>For a Cox Proportional Hazard we need to provide three column names: the starting age, the ending age, and if an event happened during the interval. In this case that would be “Starting_Age”, “Ending_Age”, and “Cancer_Status”. In this example we have interval data, however that may not always be the case. Colossus is designed to allow for the user to input “%trunc%” in-place of a missing side of the interval. Colossus assumes that this means that the person has the missing endpoint outside of the available data range and creates a dummy column to reference as the interval endpoint. So in code these variables would look like this:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">df &lt;-<span class="st"> </span><span class="kw">data.table</span>(<span class="st">&quot;UserID&quot;</span>=<span class="kw">c</span>(<span class="dv">112</span>, <span class="dv">114</span>, <span class="dv">213</span>, <span class="dv">214</span>, <span class="dv">115</span>, <span class="dv">116</span>, <span class="dv">117</span>),</a>
<a class="sourceLine" id="cb3-2" title="2">           <span class="st">&quot;Starting_Age&quot;</span>=<span class="kw">c</span>(<span class="dv">18</span>,  <span class="dv">20</span>,  <span class="dv">18</span>,  <span class="dv">19</span>,  <span class="dv">21</span>,  <span class="dv">20</span>,  <span class="dv">18</span>),</a>
<a class="sourceLine" id="cb3-3" title="3">             <span class="st">&quot;Ending_Age&quot;</span>=<span class="kw">c</span>(<span class="dv">30</span>,  <span class="dv">45</span>,  <span class="dv">57</span>,  <span class="dv">47</span>,  <span class="dv">36</span>,  <span class="dv">60</span>,  <span class="dv">55</span>),</a>
<a class="sourceLine" id="cb3-4" title="4">          <span class="st">&quot;Cancer_Status&quot;</span>=<span class="kw">c</span>(<span class="dv">0</span>,   <span class="dv">0</span>,   <span class="dv">1</span>,   <span class="dv">0</span>,   <span class="dv">1</span>,   <span class="dv">0</span>,   <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb3-5" title="5">                      <span class="st">&quot;a&quot;</span>=<span class="kw">c</span>(<span class="dv">0</span>,   <span class="dv">1</span>,   <span class="dv">1</span>,   <span class="dv">0</span>,   <span class="dv">1</span>,   <span class="dv">0</span>,   <span class="dv">1</span>),</a>
<a class="sourceLine" id="cb3-6" title="6">                      <span class="st">&quot;b&quot;</span>=<span class="kw">c</span>(<span class="dv">1</span>,   <span class="fl">1.1</span>, <span class="fl">2.1</span>, <span class="dv">2</span>,   <span class="fl">0.1</span>, <span class="dv">1</span>,   <span class="fl">0.2</span>),</a>
<a class="sourceLine" id="cb3-7" title="7">                      <span class="st">&quot;c&quot;</span>=<span class="kw">c</span>(<span class="dv">10</span>,  <span class="dv">11</span>,  <span class="dv">10</span>,  <span class="dv">11</span>,  <span class="dv">12</span>,  <span class="dv">9</span>,   <span class="dv">11</span>),</a>
<a class="sourceLine" id="cb3-8" title="8">                      <span class="st">&quot;d&quot;</span>=<span class="kw">c</span>(<span class="dv">0</span>,   <span class="dv">0</span>,   <span class="dv">0</span>,   <span class="dv">1</span>,   <span class="dv">1</span>,   <span class="dv">1</span>,   <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co"># For the interval case</span></a>
<a class="sourceLine" id="cb3-10" title="10">time1 &lt;-<span class="st"> &quot;Starting_Age&quot;</span></a>
<a class="sourceLine" id="cb3-11" title="11">time2 &lt;-<span class="st"> &quot;Ending_Age&quot;</span></a>
<a class="sourceLine" id="cb3-12" title="12">event &lt;-<span class="st"> &quot;Cancer_Status&quot;</span></a>
<a class="sourceLine" id="cb3-13" title="13"></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="co"># Supposing we had left truncated data the following would change</span></a>
<a class="sourceLine" id="cb3-15" title="15">time1 &lt;-<span class="st"> &quot;Starting_Age&quot;</span></a>
<a class="sourceLine" id="cb3-16" title="16">time2 &lt;-<span class="st"> &quot;%trunc%&quot;</span></a>
<a class="sourceLine" id="cb3-17" title="17"></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="co"># and with right truncated data the following is used</span></a>
<a class="sourceLine" id="cb3-19" title="19">time1 &lt;-<span class="st"> &quot;%trunc%&quot;</span></a>
<a class="sourceLine" id="cb3-20" title="20">time2 &lt;-<span class="st"> &quot;Ending_Age&quot;</span></a>
<a class="sourceLine" id="cb3-21" title="21"></a>
<a class="sourceLine" id="cb3-22" title="22"><span class="co">#setting back to normal</span></a>
<a class="sourceLine" id="cb3-23" title="23">time1 &lt;-<span class="st"> &quot;Starting_Age&quot;</span></a>
<a class="sourceLine" id="cb3-24" title="24">time2 &lt;-<span class="st"> &quot;Ending_Age&quot;</span></a></code></pre></div>
<p>Suppose instead we were interested in a Poisson regression, the only difference is instead of providing interval endpoints we give a column of interval lengths. In this case we need to define a new column, but that may not be the case in general. Suppose we are now working with the following table:</p>
<table>
<thead>
<tr class="header">
<th align="center">UserID</th>
<th align="center">Starting_Age</th>
<th align="center">Ending_Age</th>
<th align="center">Person_Years</th>
<th align="center">Cancer_Status</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">112</td>
<td align="center">18</td>
<td align="center">30</td>
<td align="center">12</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">114</td>
<td align="center">20</td>
<td align="center">45</td>
<td align="center">25</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">213</td>
<td align="center">18</td>
<td align="center">57</td>
<td align="center">39</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">…</td>
<td align="center">…</td>
<td align="center">…</td>
<td align="center">…</td>
<td align="center">…</td>
</tr>
</tbody>
</table>
<p>we would just provide the duration column and event column, or “Person_Years” and “Cancer_Status”. Which in code looks like the following:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">df<span class="op">$</span>Person_Years &lt;-<span class="st"> </span>df<span class="op">$</span>Ending_Age <span class="op">-</span>df<span class="op">$</span>Starting_Age</a>
<a class="sourceLine" id="cb4-2" title="2">pyr &lt;-<span class="st"> &quot;Person_Years&quot;</span></a>
<a class="sourceLine" id="cb4-3" title="3">event &lt;-<span class="st"> &quot;Cancer_Status&quot;</span></a></code></pre></div>
</div>
<div id="control-and-verbosity" class="section level2">
<h2>Control and Verbosity</h2>
<p>Colossus offers several options that control how the input data is used and returned. This can be split into two general categories. The first category is convergence parameters. These cover the number of iterations used, limits on parameter changes, and stopping criteria. The second category is parameters used for debugging and additional information. A more common option is the verbosity. The verbose mode prints time-steps and intermediate values for the sum of terms, sum of risks, and log-likelihood each iteration. A less common option is the <em>der_iden</em> parameter, which is used change only one parameter at a time by a set amount. This was used in the debugging process for recording intermediate values on a plane. This option could be used by the user in conjunction with the verbose option to plot intermediate values by parameter value.</p>
<p>The convergence parameters currently supported in general are as follows:</p>
<table>
<colgroup>
<col width="47%"></col>
<col width="52%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="center">Parameter</th>
<th align="center">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">lr</td>
<td align="center">learning rate applied to steps taken, smaller values avoid overshooting at the risk of slower convergence. Applied to the solution for setting first derivative of Log-Likelihood to zero</td>
</tr>
<tr class="even">
<td align="center">maxiter</td>
<td align="center">maximum number of iterations run</td>
</tr>
<tr class="odd">
<td align="center">maxiters</td>
<td align="center">list of maximum iterations if a list of initial values is given</td>
</tr>
<tr class="even">
<td align="center">halfmax</td>
<td align="center">Maximum number of half-steps taken each iteration</td>
</tr>
<tr class="odd">
<td align="center">epsilon</td>
<td align="center">Minimum parameter change above convergence. If change is below this, the regression exits</td>
</tr>
<tr class="even">
<td align="center">dbeta_max</td>
<td align="center">learning rate applied to limit on steps taken. Applied to solution to zero Log-Likelihood, for double_step=0</td>
</tr>
<tr class="odd">
<td align="center">deriv_epsilon</td>
<td align="center">Minimum Log-Likelihood first derivative above convergence. If the largest first derivative is below this, the regression exits</td>
</tr>
<tr class="even">
<td align="center">abs_max</td>
<td align="center">Largest starting step size. Code reduces it every time halfmax is hit without finding an improvement. When abs_max is below epsilon, the code exits</td>
</tr>
<tr class="odd">
<td align="center">dose_abs_max</td>
<td align="center">Largest starting step size for threshold parameters. Assumes the threshold parameters may be orders of magnitude different than other parameters</td>
</tr>
<tr class="even">
<td align="center">ties</td>
<td align="center">Allows for efron or breslow tie methods</td>
</tr>
<tr class="odd">
<td align="center">double_step</td>
<td align="center">Changes what step calculation method is used. double_step=0 changes each parameter by the ratio of first to second derivative independently. double_step=1 solves the system of equations for all first and second derivatives</td>
</tr>
</tbody>
</table>
<p>The additional information parameters currently supported are as follows:</p>
<table>
<colgroup>
<col width="47%"></col>
<col width="52%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="center">Parameter</th>
<th align="center">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">verbose</td>
<td align="center">TRUE/FALSE flag to print updates on parameter value and which section of the code is active</td>
</tr>
<tr class="even">
<td align="center">change_all</td>
<td align="center">TRUE/FALSE flag to choose if the user wants a regression or to calculate log-likelihoods on a grid changing only one parameter at a time</td>
</tr>
<tr class="odd">
<td align="center">Ncores</td>
<td align="center">Number of physical cores assigned, cannot be greater than the number of cores available</td>
</tr>
</tbody>
</table>
<p>The previous options are all contained within a list of parameters, however there are additional standalone parameters which control the convergence and information. They are as follows:</p>
<table>
<colgroup>
<col width="47%"></col>
<col width="52%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="center">Parameter</th>
<th align="center">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">der_iden</td>
<td align="center">If change_all is used, selects which parameter number indexed from 0 to change. The parameter is changed by abs_max or dose_abs_max every iteration over the maximum number of iterations</td>
</tr>
<tr class="even">
<td align="center">keep_constant</td>
<td align="center">a vector of 0/1 to denote if any parameters should be held constant over the calculations. 0 denoting false and 1 denoting true</td>
</tr>
</tbody>
</table>
<p>Going back to our example, the code may look like the following:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">keep_constant &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb5-2" title="2">der_iden &lt;-<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb5-3" title="3"></a>
<a class="sourceLine" id="cb5-4" title="4">control=<span class="kw">list</span>(<span class="st">&quot;Ncores&quot;</span>=<span class="dv">2</span>,<span class="st">&#39;lr&#39;</span> =<span class="st"> </span><span class="fl">0.75</span>,<span class="st">&#39;maxiter&#39;</span> =<span class="st"> </span><span class="dv">100</span>,<span class="st">&#39;halfmax&#39;</span> =<span class="st"> </span><span class="dv">5</span>,<span class="st">&#39;epsilon&#39;</span> =<span class="st"> </span><span class="fl">1e-9</span>,</a>
<a class="sourceLine" id="cb5-5" title="5">             <span class="st">&#39;dbeta_max&#39;</span> =<span class="st"> </span><span class="fl">0.5</span>,<span class="st">&#39;deriv_epsilon&#39;</span> =<span class="st"> </span><span class="fl">1e-9</span>, <span class="st">&#39;abs_max&#39;</span>=<span class="fl">1.0</span>,<span class="st">&#39;change_all&#39;</span>=<span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb5-6" title="6">             <span class="st">&#39;dose_abs_max&#39;</span>=<span class="fl">100.0</span>,<span class="st">&#39;verbose&#39;</span>=<span class="ot">FALSE</span>, <span class="st">&#39;ties&#39;</span>=<span class="st">&#39;breslow&#39;</span>,<span class="st">&#39;double_step&#39;</span>=<span class="dv">1</span>)</a></code></pre></div>
<p>In this example, no parameters are held constant, 100 iterations with 5 half-steps are used, a regression is performed with matrix step solutions, and breslow’s method for tied event times is used. There are no errors for unused control parameters being used, they will simply be ignored. Every commonly required control parameter has a default value which is automatically used if not declared. This includes an optional list of model control options. These are used for nonstandard model options not covered in this vignette.</p>
</div>
<div id="running-the-regression-and-output" class="section level2">
<h2>Running the Regression and Output</h2>
<p>Finally the user calls the regression function they need. The names used throughout this vignette are the defaults assumed. Both the Cox PH regression and Poisson regression are called directly and return a list of results. Colossus contains a suite of additional checks it runs on the inputs prior to starting and calculations, which are designed to output explicit details on any issues. Printing error details may require the verbose option to be TRUE. In code the functions are called as follows:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="co"># assuming the table of covariates is stored in a data.table &quot;df&quot;</span></a>
<a class="sourceLine" id="cb6-2" title="2"></a>
<a class="sourceLine" id="cb6-3" title="3">e &lt;-<span class="st"> </span><span class="kw">RunCoxRegression</span>(df, time1, time2, event, names, Term_n, tform, keep_constant,</a>
<a class="sourceLine" id="cb6-4" title="4">                      a_n, modelform, fir, der_iden, control)</a>
<a class="sourceLine" id="cb6-5" title="5"><span class="kw">print</span>(e)</a>
<a class="sourceLine" id="cb6-6" title="6"><span class="co">#&gt; $LogLik</span></a>
<a class="sourceLine" id="cb6-7" title="7"><span class="co">#&gt; [1] -0.6753644</span></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-9" title="9"><span class="co">#&gt; $First_Der</span></a>
<a class="sourceLine" id="cb6-10" title="10"><span class="co">#&gt; [1] -2.220446e-16 -7.187040e-05  7.361232e-05  1.919948e-04</span></a>
<a class="sourceLine" id="cb6-11" title="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-12" title="12"><span class="co">#&gt; $Second_Der</span></a>
<a class="sourceLine" id="cb6-13" title="13"><span class="co">#&gt;              [,1]         [,2]          [,3]          [,4]</span></a>
<a class="sourceLine" id="cb6-14" title="14"><span class="co">#&gt; [1,] 2.220446e-16 2.710505e-20  1.734723e-18  3.559233e-18</span></a>
<a class="sourceLine" id="cb6-15" title="15"><span class="co">#&gt; [2,] 2.710505e-20 1.742209e-08  7.238366e-07  2.311365e-07</span></a>
<a class="sourceLine" id="cb6-16" title="16"><span class="co">#&gt; [3,] 1.734723e-18 7.238366e-07 -1.501037e-06 -2.356033e-07</span></a>
<a class="sourceLine" id="cb6-17" title="17"><span class="co">#&gt; [4,] 3.559233e-18 2.311365e-07 -2.356033e-07 -3.687577e-06</span></a>
<a class="sourceLine" id="cb6-18" title="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-19" title="19"><span class="co">#&gt; $beta_0</span></a>
<a class="sourceLine" id="cb6-20" title="20"><span class="co">#&gt; [1]  42.97183  98.72266  96.82311 101.10000</span></a>
<a class="sourceLine" id="cb6-21" title="21"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-22" title="22"><span class="co">#&gt; $Standard_Deviation</span></a>
<a class="sourceLine" id="cb6-23" title="23"><span class="co">#&gt; [1]      NaN      NaN 240.8255 520.7003</span></a>
<a class="sourceLine" id="cb6-24" title="24"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-25" title="25"><span class="co">#&gt; $AIC</span></a>
<a class="sourceLine" id="cb6-26" title="26"><span class="co">#&gt; [1] 9.350729</span></a>
<a class="sourceLine" id="cb6-27" title="27"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-28" title="28"><span class="co">#&gt; $Parameter_Lists</span></a>
<a class="sourceLine" id="cb6-29" title="29"><span class="co">#&gt; $Parameter_Lists$Term_n</span></a>
<a class="sourceLine" id="cb6-30" title="30"><span class="co">#&gt; [1] 0 1 1 2</span></a>
<a class="sourceLine" id="cb6-31" title="31"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-32" title="32"><span class="co">#&gt; $Parameter_Lists$tforms</span></a>
<a class="sourceLine" id="cb6-33" title="33"><span class="co">#&gt; [1] &quot;loglin&quot; &quot;lin&quot;    &quot;lin&quot;    &quot;plin&quot;  </span></a>
<a class="sourceLine" id="cb6-34" title="34"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-35" title="35"><span class="co">#&gt; $Parameter_Lists$names</span></a>
<a class="sourceLine" id="cb6-36" title="36"><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</span></a>
<a class="sourceLine" id="cb6-37" title="37"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-38" title="38"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-39" title="39"><span class="co">#&gt; $Control_List</span></a>
<a class="sourceLine" id="cb6-40" title="40"><span class="co">#&gt; $Control_List$Iteration</span></a>
<a class="sourceLine" id="cb6-41" title="41"><span class="co">#&gt; [1] 100</span></a>
<a class="sourceLine" id="cb6-42" title="42"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-43" title="43"><span class="co">#&gt; $Control_List$`Maximum Step`</span></a>
<a class="sourceLine" id="cb6-44" title="44"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb6-45" title="45"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-46" title="46"><span class="co">#&gt; $Control_List$`Derivative Limiting`</span></a>
<a class="sourceLine" id="cb6-47" title="47"><span class="co">#&gt; [1] 0.0001919948</span></a>
<a class="sourceLine" id="cb6-48" title="48"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-49" title="49"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-50" title="50"><span class="co">#&gt; $Convgerged</span></a>
<a class="sourceLine" id="cb6-51" title="51"><span class="co">#&gt; [1] FALSE</span></a>
<a class="sourceLine" id="cb6-52" title="52"></a>
<a class="sourceLine" id="cb6-53" title="53"><span class="co">#or a poisson regression</span></a>
<a class="sourceLine" id="cb6-54" title="54">a_n &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span>) <span class="co">#a_n is updated when either regression is called</span></a>
<a class="sourceLine" id="cb6-55" title="55">e &lt;-<span class="st"> </span><span class="kw">RunPoissonRegression</span>(df, pyr, event, names, Term_n, tform, keep_constant, a_n,</a>
<a class="sourceLine" id="cb6-56" title="56">                          modelform, fir, der_iden, control)</a>
<a class="sourceLine" id="cb6-57" title="57"><span class="kw">print</span>(e)</a>
<a class="sourceLine" id="cb6-58" title="58"><span class="co">#&gt; $LogLik</span></a>
<a class="sourceLine" id="cb6-59" title="59"><span class="co">#&gt; [1] -44.73982</span></a>
<a class="sourceLine" id="cb6-60" title="60"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-61" title="61"><span class="co">#&gt; $First_Der</span></a>
<a class="sourceLine" id="cb6-62" title="62"><span class="co">#&gt; [1]   -19.67462  -290.53655 -2314.56447   -19.64770</span></a>
<a class="sourceLine" id="cb6-63" title="63"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-64" title="64"><span class="co">#&gt; $Second_Der</span></a>
<a class="sourceLine" id="cb6-65" title="65"><span class="co">#&gt;              [,1]      [,2]        [,3]          [,4]</span></a>
<a class="sourceLine" id="cb6-66" title="66"><span class="co">#&gt; [1,]   -21.674624 -153.3672  -1393.0153    -4.8644043</span></a>
<a class="sourceLine" id="cb6-67" title="67"><span class="co">#&gt; [2,]  -153.367172 -108.7036   -666.9745  -101.9254174</span></a>
<a class="sourceLine" id="cb6-68" title="68"><span class="co">#&gt; [3,] -1393.015328 -666.9745 -21096.6437 -1058.8112374</span></a>
<a class="sourceLine" id="cb6-69" title="69"><span class="co">#&gt; [4,]    -4.864404 -101.9254  -1058.8112    -0.5929361</span></a>
<a class="sourceLine" id="cb6-70" title="70"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-71" title="71"><span class="co">#&gt; $beta_0</span></a>
<a class="sourceLine" id="cb6-72" title="72"><span class="co">#&gt; [1] -0.40680015 -0.01846667 -0.07585910 -0.70133825</span></a>
<a class="sourceLine" id="cb6-73" title="73"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-74" title="74"><span class="co">#&gt; $Standard_Deviation</span></a>
<a class="sourceLine" id="cb6-75" title="75"><span class="co">#&gt; [1] 0.383529879 0.092209643 0.008136992 0.535536589</span></a>
<a class="sourceLine" id="cb6-76" title="76"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-77" title="77"><span class="co">#&gt; $AIC</span></a>
<a class="sourceLine" id="cb6-78" title="78"><span class="co">#&gt; [1] 93.47964</span></a>
<a class="sourceLine" id="cb6-79" title="79"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-80" title="80"><span class="co">#&gt; $Deviation</span></a>
<a class="sourceLine" id="cb6-81" title="81"><span class="co">#&gt; [1] 85.47964</span></a>
<a class="sourceLine" id="cb6-82" title="82"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-83" title="83"><span class="co">#&gt; $Parameter_Lists</span></a>
<a class="sourceLine" id="cb6-84" title="84"><span class="co">#&gt; $Parameter_Lists$Term_n</span></a>
<a class="sourceLine" id="cb6-85" title="85"><span class="co">#&gt; [1] 0 1 1 2</span></a>
<a class="sourceLine" id="cb6-86" title="86"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-87" title="87"><span class="co">#&gt; $Parameter_Lists$tforms</span></a>
<a class="sourceLine" id="cb6-88" title="88"><span class="co">#&gt; [1] &quot;loglin&quot; &quot;lin&quot;    &quot;lin&quot;    &quot;plin&quot;  </span></a>
<a class="sourceLine" id="cb6-89" title="89"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-90" title="90"><span class="co">#&gt; $Parameter_Lists$names</span></a>
<a class="sourceLine" id="cb6-91" title="91"><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</span></a>
<a class="sourceLine" id="cb6-92" title="92"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-93" title="93"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-94" title="94"><span class="co">#&gt; $Control_List</span></a>
<a class="sourceLine" id="cb6-95" title="95"><span class="co">#&gt; $Control_List$Iteration</span></a>
<a class="sourceLine" id="cb6-96" title="96"><span class="co">#&gt; [1] 12</span></a>
<a class="sourceLine" id="cb6-97" title="97"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-98" title="98"><span class="co">#&gt; $Control_List$`Maximum Step`</span></a>
<a class="sourceLine" id="cb6-99" title="99"><span class="co">#&gt; [1] 2.910383e-11</span></a>
<a class="sourceLine" id="cb6-100" title="100"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-101" title="101"><span class="co">#&gt; $Control_List$`Derivative Limiting`</span></a>
<a class="sourceLine" id="cb6-102" title="102"><span class="co">#&gt; [1] 2314.564</span></a>
<a class="sourceLine" id="cb6-103" title="103"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-104" title="104"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-105" title="105"><span class="co">#&gt; $Converged</span></a>
<a class="sourceLine" id="cb6-106" title="106"><span class="co">#&gt; [1] FALSE</span></a></code></pre></div>
<p>The following are output:</p>
<table>
<colgroup>
<col width="47%"></col>
<col width="52%"></col>
</colgroup>
<thead>
<tr class="header">
<th align="center">Item</th>
<th align="center">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">LogLik</td>
<td align="center">Final Log-Likelihood</td>
</tr>
<tr class="even">
<td align="center">First_Der</td>
<td align="center">First derivative of Log-Likelihood at the final point</td>
</tr>
<tr class="odd">
<td align="center">Second_Der</td>
<td align="center">Matrix of second derivatives of Log-Likelihood at the final point</td>
</tr>
<tr class="even">
<td align="center">beta_0</td>
<td align="center">The final parameter list</td>
</tr>
<tr class="odd">
<td align="center">Standard_Deviation</td>
<td align="center">Inverse-Hessian estimate of the standard deviation</td>
</tr>
<tr class="even">
<td align="center">AIC</td>
<td align="center">Akaike information criterion for the final solution</td>
</tr>
<tr class="odd">
<td align="center">Deviation</td>
<td align="center">Deviance calculated using the difference in log-likelihood contributions between the saturated model and current model</td>
</tr>
<tr class="even">
<td align="center">Parameter_Lists</td>
<td align="center">the term numbers and term formulas used, to compare against the expected</td>
</tr>
<tr class="odd">
<td align="center">Control_List</td>
<td align="center">a list containing the number of iterations, the maximum step at the final iteration, and the highest first derivative magnitude</td>
</tr>
<tr class="even">
<td align="center">Converged</td>
<td align="center">TRUE/FALSE if the regression converged</td>
</tr>
</tbody>
</table>
<p>For both cases, the regressions did not converge. Given that the examples were arbitrary this is not unexpected. The Cox PH ran out of iterations and did not decrease the step limit, so if it were restarted at the new optimal guess it would be expected to continue converging. The Poisson regression exited due to the step limit being below the threshold, which means that it hit some local optimum. To find a better solution the user would likely have to either change the model equation or provide a new starting guess. This is an example of how to interpret the results of a Colossus run.</p>
<p>There are additional variants of these functions which will be described outside of this section. They return a similar list of results.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
